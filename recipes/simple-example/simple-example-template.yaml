name: "{{ recipe_name }}"
tag: "{{ build_tag }}"
release: "{{ recipe_name }}-{{ build_tag }}"
desc: "This is a simple example image collection recipe"

steps:
  - name: simple-example-base
    base: ubuntu:24.04
    template: simple/Ubuntu2404_packages
    desc: |
      This is a simple example base image which builds on its base image
      ubuntu:{{ubuntu_tag}} by adding these Ubuntu packages:

      {%- for pkg in ubuntu_packages %}
        - {{ pkg }}
      {%- endfor %}
    env:
      - UBUNTU_PACKAGES="{{ubuntu_packages | join(' ')}}"
    export:
      name: simple-example-base

  - name: simple-example-venv
    base: simple-example-base
    template: simple/Ubuntu2404_venv
    desc: |
      This image builds on its base image by creating a Python venv under
      directory {{ venv_path }} and adding a few python packages.
    env:
      - VENV_PACKAGES="{{venv_packages | join(' ')}}"
      - VENV_PATH="{{ venv_path }}"
    export:
      name: simple-example-venv
